<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Feature Group Testing - mloda docs</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Feature Group Testing";
        var mkdocs_page_input_path = "in_depth/feature-group-testing.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> mloda docs
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Home</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../..">mloda</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">mloda Concepts</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/mloda_basics/0_table_of_content/">Table of Content</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/mloda_basics/1_ml_mloda_intro/">Intro to the core interfaces of mloda</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/mloda_basics/2_ml_advantage_process_focus/">What makes mloda unique?</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/mloda_basics/3_ml_data_feature_feature_groups/">Data, Feature, FeatureSets and FeatureGroups in mloda</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/mloda_basics/4_ml_data_producers_user_owner/">Data Producer, User, Owner in mloda</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../chapter1/installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/sklearn_integration_basic/">mloda + scikit-learn Integration: Basic Example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../chapter1/api-request/">API Request</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../chapter1/feature-groups/">Feature Groups</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../chapter1/compute-frameworks/">Compute Frameworks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../chapter1/extender/">Extender</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">In Depth - Basics</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../mloda-api/">mloda API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../access-feature-data/">(Feature) data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../join_data/">Join data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../filter_data/">Filter data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../artifacts/">Artifacts</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">In Depth - Advanced</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../data-quality/">Data quality</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../domain/">Domain concept</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../data-access-patterns/">Data Access Patterns</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Compute Frameworks</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../framework-transformers/">Framework Transformers</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../compute-framework-integration/">Compute Framework Integration</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../framework-connection-object/">Framework Connection Object</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Feature Groups</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../feature-chain-parser/">Feature Chain Parser</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../feature-group-matching/">Feature Group Matching</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../property-mapping/">PROPERTY_MAPPING</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Feature Group Testing</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#what-to-test">What to Test</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#1-feature-name-pattern-matching">1. Feature Name Pattern Matching</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2-input-feature-extraction">2. Input Feature Extraction</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#3-calculation-logic">3. Calculation Logic</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#4-configuration-based-feature-creation">4. Configuration-Based Feature Creation</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#5-integration-with-mloda-api">5. Integration with mloda API</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#test-organization">Test Organization</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../feature-group-version/">Feature Group Versioning</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../multiple_result_columns/">Multiple Result Columns</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Plugin System</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../plugin-loader/">Plugin Loader</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Troubleshooting</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../troubleshooting/feature-group-resolution-errors/">Feature Group Resolution Errors</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Development</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../development/">Contributors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../license/">License - Apache 2.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../missing/">Missing</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Need Help?</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../faq/">FAQ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../need-help/">Need Help</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">mloda docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">In Depth - Advanced</li>
          <li class="breadcrumb-item">Feature Groups</li>
      <li class="breadcrumb-item active">Feature Group Testing</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="feature-group-testing">Feature Group Testing</h1>
<p>Most feature groups were generated automatically by using an agent. It is good practise to give the agents examples of other tests. Some agents tend to skip tests. Please be aware of that.</p>
<p>This guide outlines key aspects to test in feature groups and provides brief examples.</p>
<h2 id="what-to-test">What to Test</h2>
<h3 id="1-feature-name-pattern-matching">1. Feature Name Pattern Matching</h3>
<p>Test that your feature group correctly identifies feature names it should handle.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-python">from mloda_plugins.feature_group.experimental.clustering.base import ClusteringFeatureGroup
from mloda.user import Options

# Test valid and invalid feature names
assert ClusteringFeatureGroup.match_feature_group_criteria(&quot;customer_behavior__cluster_kmeans_5&quot;, Options())
assert not ClusteringFeatureGroup.match_feature_group_criteria(&quot;invalid_name&quot;, Options())
</code></pre>
<h3 id="2-input-feature-extraction">2. Input Feature Extraction</h3>
<p>Test that your feature group correctly extracts source features from feature names.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-python"># Test extracting source features from a feature name
input_features = feature_group.input_features(Options(), FeatureName(&quot;sales__sum_aggr&quot;))
assert Feature(&quot;sales&quot;) in input_features
</code></pre>
<h3 id="3-calculation-logic">3. Calculation Logic</h3>
<p>Test that your feature group correctly transforms input data into output features.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-python">from mloda.user import Feature
from mloda.provider import FeatureSet
from mloda_plugins.feature_group.experimental.clustering.pandas import PandasClusteringFeatureGroup

# Test calculation with sample data
feature_set = FeatureSet()
feature_set.add(Feature(&quot;feature1,feature2__cluster_kmeans_2&quot;))
result = PandasClusteringFeatureGroup.calculate_feature(sample_data, feature_set)
assert &quot;feature1,feature2__cluster_kmeans_2&quot; in result.columns
</code></pre>
<h3 id="4-configuration-based-feature-creation">4. Configuration-Based Feature Creation</h3>
<p>Test that your feature group correctly parses features from configuration options.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-python"># Test creating features from options
options = Options({
    &quot;aggregation_type&quot;: &quot;sum&quot;,
    &quot;in_features&quot;: &quot;sales&quot;
})
feature_name = parser_config.parse_from_options(options)
assert feature_name == &quot;sales__sum_aggr&quot;
</code></pre>
<h3 id="5-integration-with-mloda-api">5. Integration with mloda API</h3>
<p>Test that your feature group works correctly with the mloda API.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-python">import mloda
from mloda_plugins.compute_framework.base_implementations.pandas.dataframe import PandasDataFrame

features = [&quot;source_feature&quot;, &quot;source_feature__my_operation&quot;]
result = mloda.run_all(features, compute_frameworks={PandasDataFrame})
assert &quot;source_feature__my_operation&quot; in result[0].columns
</code></pre>
<h2 id="test-organization">Test Organization</h2>
<p>Organize tests into three categories:</p>
<ol>
<li><strong>Base Class Tests</strong>: Test feature name parsing, input feature extraction, and configuration</li>
<li><strong>Framework Implementation Tests</strong>: Test calculation logic for specific compute frameworks</li>
<li><strong>Integration Tests</strong>: Test with the mloda API and other components</li>
</ol>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../property-mapping/" class="btn btn-neutral float-left" title="PROPERTY_MAPPING"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../feature-group-version/" class="btn btn-neutral float-right" title="Feature Group Versioning">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../property-mapping/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../feature-group-version/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
